<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:behaviors="clr-namespace:TCC.Behaviors"
             x:Class="TCC.Views.DriverRegisterPage"
             BackgroundColor="#F5F5F5">

    <ScrollView>
        <VerticalStackLayout Spacing="0">

            <!-- Cabeçalho - Full Width -->
            <Grid HeightRequest="120" 
                  Margin="0">
                <Image Source="fundovermelho.jpg" 
                       Aspect="AspectFill" />
                <!-- Overlay semitransparente opcional para melhorar legibilidade -->
                <BoxView BackgroundColor="#80000000" />
                <VerticalStackLayout HorizontalOptions="Center" 
                                     VerticalOptions="Center" 
                                     Spacing="5">
                    <Label Text="Criar Conta" 
                           FontSize="24" 
                           HorizontalOptions="Center" 
                           FontAttributes="Bold"
                           TextColor="White" />
                    <Label Text="Motorista" 
                           FontSize="16" 
                           HorizontalOptions="Center" 
                           TextColor="White" />
                    <Label Text="Cadastre-se dirigir os transportes do Barbieri!" 
                           FontSize="12" 
                           HorizontalOptions="Center" 
                           TextColor="White" />
                </VerticalStackLayout>
            </Grid>

            <!-- Conteúdo do formulário com padding -->
            <VerticalStackLayout Padding="20" 
                                 Spacing="15">

                <!-- Nome -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Nome Completo" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Entry x:Name="NameEntry" 
                           Placeholder="Digite seu nome completo" 
                           FontSize="16" 
                           BackgroundColor="White" 
                           TextColor="#333" 
                           HeightRequest="45" />
                </VerticalStackLayout>

                <!-- RG -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="RG" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Entry x:Name="RGEntry" 
                           Placeholder="00.000.000-0" 
                           FontSize="16" 
                           BackgroundColor="White" 
                           TextColor="#333" 
                           Keyboard="Numeric"
                           HeightRequest="45">
                        <Entry.Behaviors>
                            <toolkit:MaskedBehavior Mask="XX.XXX.XXX-X" />
                        </Entry.Behaviors>
                    </Entry>
                </VerticalStackLayout>

                <!-- CPF com validação -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="CPF" 
           FontSize="14" 
           TextColor="#333" />
                    <Entry x:Name="CPFEntry" 
           Placeholder="000.000.000-00" 
           FontSize="16" 
           BackgroundColor="White" 
           TextColor="#333" 
           Keyboard="Numeric"
           HeightRequest="45">
                        <Entry.Behaviors>
                            <toolkit:MaskedBehavior Mask="XXX.XXX.XXX-XX" />
                            <behaviors:CPFValidationBehavior x:Name="CPFValidation" ErrorLabel="{x:Reference CPFErrorLabel}" />
                        </Entry.Behaviors>
                    </Entry>
                    <!-- Label de erro para CPF -->
                    <Label x:Name="CPFErrorLabel" 
           FontSize="12" 
           TextColor="Red" 
           IsVisible="False" 
           Margin="0,2,0,0" />
                </VerticalStackLayout>

                <!-- Email -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Email" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Entry x:Name="EmailEntry" 
                           Placeholder="seu@email.com" 
                           FontSize="16" 
                           BackgroundColor="White" 
                           TextColor="#333" 
                           Keyboard="Email"
                           HeightRequest="45" />
                </VerticalStackLayout>

                <!-- Data de Nascimento -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Data de Nascimento" 
                           FontSize="14" 
                           TextColor="#333" />
                    <DatePicker x:Name="BirthDatePicker"
                                BackgroundColor="White" 
                                TextColor="#333" 
                                FontSize="16"
                                HeightRequest="45" />
                </VerticalStackLayout>

                <!-- Telefone -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Telefone" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Entry x:Name="PhoneEntry" 
                           Placeholder="(11) 99999-9999" 
                           FontSize="16" 
                           BackgroundColor="White" 
                           TextColor="#333" 
                           Keyboard="Telephone"
                           HeightRequest="45">
                        <Entry.Behaviors>
                            <toolkit:MaskedBehavior Mask="(XX) XXXXX-XXXX" />
                        </Entry.Behaviors>
                    </Entry>
                </VerticalStackLayout>

                <!-- Contato de Emergência -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Contato de Emergência" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Entry x:Name="ContatoEmergenciaEntry"
                           Placeholder="(11) 99999-9999" 
                           FontSize="16" 
                           BackgroundColor="White" 
                           TextColor="#333" 
                           Keyboard="Telephone"
                           HeightRequest="45">
                        <Entry.Behaviors>
                            <toolkit:MaskedBehavior Mask="(XX) XXXXX-XXXX" />
                        </Entry.Behaviors>
                    </Entry>
                </VerticalStackLayout>

                <!-- CNH -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="CNH" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Entry x:Name="CNHEntry"
                           Placeholder="Número da CNH" 
                           FontSize="16" 
                           BackgroundColor="White" 
                           TextColor="#333" 
                           Keyboard="Numeric"
                           HeightRequest="45" />
                </VerticalStackLayout>

                <!-- Gênero -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Gênero" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Border Stroke="#DDDDDD" 
                            StrokeThickness="1" 
                            StrokeShape="RoundRectangle 5,5,5,5" 
                            HeightRequest="45">
                        <Picker x:Name="GenderPicker" 
                                SelectedIndex="0">
                            <Picker.Items>
                                <x:String>Masculino</x:String>
                                <x:String>Feminino</x:String>
                                <x:String>Outro</x:String>
                                <x:String>Prefiro não dizer</x:String>
                            </Picker.Items>
                        </Picker>
                    </Border>
                </VerticalStackLayout>

                <!-- Endereço -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Endereço" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Entry x:Name="AddressEntry" 
                           Placeholder="Rua, número, bairro, cidade" 
                           FontSize="16" 
                           BackgroundColor="White" 
                           TextColor="#333" 
                           HeightRequest="45" />
                </VerticalStackLayout>

                <!-- Senha -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Senha" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Entry x:Name="PasswordEntry" 
                           Placeholder="Mínimo 6 caracteres" 
                           FontSize="16" 
                           BackgroundColor="White" 
                           TextColor="#333" 
                           IsPassword="True"
                           HeightRequest="45" />
                </VerticalStackLayout>

                <!-- Confirmar Senha -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Confirmar Senha" 
                           FontSize="14" 
                           TextColor="#333" />
                    <Entry x:Name="ConfirmPasswordEntry" 
                           Placeholder="Digite a senha novamente" 
                           FontSize="16" 
                           BackgroundColor="White" 
                           TextColor="#333" 
                           IsPassword="True"
                           HeightRequest="45" />
                </VerticalStackLayout>

                <!-- Botão Criar Conta -->
                <Button Text="CRIAR CONTA" 
                        x:Name="OnRegister"
                        BackgroundColor="#FF0000" 
                        TextColor="White" 
                        CornerRadius="25" 
                        HeightRequest="50" 
                        FontSize="16"
                        FontAttributes="Bold"
                        Margin="0,20,0,10"
                        Clicked="OnRegister_Clicked">
                </Button>

                <!-- Botão Já tenho conta -->
                <Button Text="Já tenho uma conta" 
                        BackgroundColor="Transparent" 
                        TextColor="#FF0000" 
                        FontSize="14" 
                        BorderWidth="0"
                        HeightRequest="40" 
                        Clicked="OnAlreadyHaveAccount_Clicked">
                </Button>

            </VerticalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>