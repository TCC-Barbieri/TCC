<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TCC.Views.ChoosePageDriver"
             Shell.NavBarIsVisible="False">

    <Grid>
        <!-- Imagem de fundo -->
        <Image Source="fundo_tcc.jpg"
           Aspect="AspectFill"
           HorizontalOptions="FillAndExpand"
           VerticalOptions="FillAndExpand" />

        <!-- ConteÃºdo principal -->
        <VerticalStackLayout Spacing="40"
                             Padding="0"
                             VerticalOptions="Center"
                             HorizontalOptions="Center">

            <!-- Texto de Boas-vindas -->
            <Label Text="Menu do Motorista"
                   FontSize="36"
                   FontAttributes="Bold"
                   TextColor="White"
                   HorizontalOptions="Center"
                   VerticalOptions="Center">
                <Label.Shadow>
                    <Shadow Brush="Black" 
                            Offset="2,2" 
                            Radius="5" 
                            Opacity="0.3"/>
                </Label.Shadow>
            </Label>

            <!-- BotÃµes -->
            <VerticalStackLayout Spacing="20" 
                                 WidthRequest="250">

                <!-- BotÃ£o Iniciar Viagem -->
                <Button x:Name="iniciarViagemButton"
                        Text="ðŸš— Iniciar Viagem"
                        TextColor="White"
                        FontAttributes="Bold"
                        BackgroundColor="#FF6B35"
                        CornerRadius="25"
                        HeightRequest="55"
                        SemanticProperties.Hint="Iniciar nova viagem"
                        Clicked="IniciarViagemButton_Clicked">
                    <Button.Shadow>
                        <Shadow Brush="Black" 
                                Offset="0,4" 
                                Radius="8" 
                                Opacity="0.2"/>
                    </Button.Shadow>
                </Button>

                <!-- BotÃ£o Perfil -->
                <Button x:Name="perfilButton"
                        Text="ðŸ‘¤ Perfil"
                        TextColor="#2C3E50"
                        FontAttributes="Bold"
                        BackgroundColor="White"
                        CornerRadius="25"
                        HeightRequest="55"
                        SemanticProperties.Hint="Ver meu perfil"
                        Clicked="PerfilButton_Clicked">
                    <Button.Shadow>
                        <Shadow Brush="Black" 
                                Offset="0,4" 
                                Radius="8" 
                                Opacity="0.2"/>
                    </Button.Shadow>
                </Button>

                <!-- BotÃ£o Grupos -->
                <Button x:Name="gruposButton"
                        Text="ðŸ‘¥ Grupos"
                        TextColor="#2C3E50"
                        FontAttributes="Bold"
                        BackgroundColor="White"
                        CornerRadius="25"
                        HeightRequest="55"
                        SemanticProperties.Hint="Ver grupos"
                        Clicked="GruposButton_Clicked">
                    <Button.Shadow>
                        <Shadow Brush="Black" 
                                Offset="0,4" 
                                Radius="8" 
                                Opacity="0.2"/>
                    </Button.Shadow>
                </Button>

                <!-- BotÃ£o Desconectar -->
                <Button x:Name="desconectarButton"
                        Text="âŒ Desconectar"
                        TextColor="White"
                        FontAttributes="Bold"
                        BackgroundColor="Transparent"
                        BorderColor="White"
                        BorderWidth="2"
                        CornerRadius="25"
                        HeightRequest="55"
                        SemanticProperties.Hint="Sair da conta"
                        Clicked="DesconectarButton_Clicked">
                    <Button.Shadow>
                        <Shadow Brush="Black" 
                                Offset="0,4" 
                                Radius="8" 
                                Opacity="0.2"/>
                    </Button.Shadow>
                </Button>

            </VerticalStackLayout>

        </VerticalStackLayout>

        <!-- BotÃ£o de Ajuda no canto inferior direito -->
        <Button x:Name="ajudaButton"
                Text="?"
                TextColor="White"
                FontSize="24"
                FontAttributes="Bold"
                BackgroundColor="#007bff"
                CornerRadius="30"
                WidthRequest="60"
                HeightRequest="60"
                HorizontalOptions="End"
                VerticalOptions="End"
                Margin="0,0,20,20"
                SemanticProperties.Hint="Ajuda"
                Clicked="AjudaButton_Clicked">
            <Button.Shadow>
                <Shadow Brush="Black" 
                        Offset="0,4" 
                        Radius="8" 
                        Opacity="0.3"/>
            </Button.Shadow>
        </Button>

        <!-- Popup de Ajuda -->
        <Frame x:Name="ajudaPopup"
               IsVisible="False"
               BackgroundColor="White"
               CornerRadius="15"
               Padding="20"
               HasShadow="True"
               HorizontalOptions="Center"
               VerticalOptions="Center"
               WidthRequest="320"
               MaximumHeightRequest="500">
            <ScrollView>
                <VerticalStackLayout Spacing="15">

                    <!-- TÃ­tulo -->
                    <Label Text="â„¹ï¸ Ajuda"
                           FontSize="24"
                           FontAttributes="Bold"
                           TextColor="#2C3E50"
                           HorizontalOptions="Center"
                           Margin="0,0,0,10"/>

                    <!-- ExplicaÃ§Ã£o Iniciar Viagem -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="ðŸš— Iniciar Viagem"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="#FF6B35"/>
                        <Label Text="Inicie uma nova viagem para transportar os passageiros. VocÃª verÃ¡ a lista de passageiros que confirmaram presenÃ§a e as rotas a seguir."
                               TextColor="#555"
                               LineBreakMode="WordWrap"/>
                    </VerticalStackLayout>

                    <BoxView HeightRequest="1" Color="#E0E0E0"/>

                    <!-- ExplicaÃ§Ã£o Perfil -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="ðŸ‘¤ Perfil"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="#2C3E50"/>
                        <Label Text="Visualize e edite suas informaÃ§Ãµes pessoais, dados do veÃ­culo e informaÃ§Ãµes de contato."
                               TextColor="#555"
                               LineBreakMode="WordWrap"/>
                    </VerticalStackLayout>

                    <BoxView HeightRequest="1" Color="#E0E0E0"/>

                    <!-- ExplicaÃ§Ã£o Grupos -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="ðŸ‘¥ Grupos"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="#2C3E50"/>
                        <Label Text="Acesse seus grupos de transporte, gerencie rotas e veja informaÃ§Ãµes sobre os passageiros."
                               TextColor="#555"
                               LineBreakMode="WordWrap"/>
                    </VerticalStackLayout>

                    <BoxView HeightRequest="1" Color="#E0E0E0"/>

                    <!-- ExplicaÃ§Ã£o Desconectar -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="âŒ Desconectar"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="#dc3545"/>
                        <Label Text="Saia da sua conta com seguranÃ§a."
                               TextColor="#555"
                               LineBreakMode="WordWrap"/>
                    </VerticalStackLayout>

                    <!-- BotÃ£o Fechar -->
                    <Button Text="Fechar"
                            TextColor="White"
                            FontAttributes="Bold"
                            BackgroundColor="#007bff"
                            CornerRadius="20"
                            HeightRequest="45"
                            Margin="0,10,0,0"
                            Clicked="FecharAjudaButton_Clicked"/>

                </VerticalStackLayout>
            </ScrollView>
        </Frame>

        <!-- Overlay escuro quando popup estÃ¡ aberto -->
        <BoxView x:Name="ajudaOverlay"
                 IsVisible="False"
                 Color="Transparent"
                 Opacity="0.5"
                 HorizontalOptions="FillAndExpand"
                 VerticalOptions="FillAndExpand">
            <BoxView.GestureRecognizers>
                <TapGestureRecognizer Tapped="FecharAjudaButton_Clicked"/>
            </BoxView.GestureRecognizers>
        </BoxView>

    </Grid>
</ContentPage>